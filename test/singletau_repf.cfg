process USER2 =  {
    
    # initialize  MessageLogger
    service = MessageLogger  {
	untracked vstring destinations   = { "cout" }
	untracked vstring categories     = { "PFProducer" }
	untracked vstring debugModules   = { "*" }
	untracked PSet cout = { 
	    untracked string threshold = "INFO"
	    untracked PSet INFO            = { untracked int32 limit = 0 }
	    untracked PSet DEBUG           = { untracked int32 limit = 0 }
	    untracked PSet PFProducer = { untracked int32 limit = 10000000}
	} 
    }

    
    # The particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"   

    include "RecoParticleFlow/PFClusterProducer/data/particleFlowCluster.cff"
    #include "RecoParticleFlow/PFClusterProducer/data/pFCaloTowers.cff"
    include "RecoParticleFlow/PFProducer/data/particleFlow.cff"
    include "RecoEcal/EgammaClusterProducers/data/islandClusteringSequence.cff" 
    include "RecoParticleFlow/PFProducer/data/tauHadronDecayFilter.cfi"    
    include "Configuration/Applications/data/reco-application-calorimetry-caltowers.cff"

    source = PoolSource
    {
	# Number of events program should run
	untracked vstring fileNames = {'file:singletau_pf.root'}
	untracked int32 maxEvents = -1
   }

    module dump = EventContentAnalyzer {}
    
    # path p = { tauHadronDecayFilter, islandClusteringSequence, caloTowersPFRec, particleFlowCluster, particleFlow, iterativeCone5PFJets } 
    #path p = { particleFlowCluster, particleFlow, iterativeCone5PFJets} 
    #path p = { islandClusteringSequence, particleFlowCluster, particleFlow, iterativeCone5PFJets, caloTowersRec } 
    path p = { islandClusteringSequence, particleFlowCluster, particleFlow, caloTowersRec,  particleFlowJetCandidates,  iterativeCone5PFJets } 

    module o2 = PoolOutputModule
    {
	untracked string fileName = "singletau_repf.root" 
	untracked vstring outputCommands = 
	{
	   
            "keep *"
#	    "drop *",
#	    "keep recoPFRecHits_*_*_*",
#	    "keep recoPFClusters_*_*_*",
#	    "keep recoPFRecTracks_*_*_*",
#	    "keep recoPFSimParticles_*_*_*",			
#	    "keep recoBasicClusters_islandBasicClusters_*_*",
#	    "keep recoPFCandidates_particleFlow_*_*",
#            "keep recoBasicJets_iterativeCone5PFJets_*_*",
#	    "keep *_towerMaker_*_*", 
#	    "drop *_*_*_USER" 
#	    "keep *_*_*_*"
	}
#	untracked PSet SelectEvents = {
#	    vstring SelectEvents = { "p" }
#	}
    }

    
    endpath outpath = { o2 }
}
