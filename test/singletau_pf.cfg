process USER =  {
    
    include "FWCore/MessageLogger/data/MessageLogger.cfi"

    source = PoolSource
    {
	# Number of events program should run
	untracked vstring fileNames = {'file:singletau_reco.root'}
	untracked int32 maxEvents = -1
    }

    # include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"
    # es_prefer = XMLIdealGeometryESSource {}    
    include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
    
    # include used for track reconstruction 
    # note that tracking is redone since we need updated hits and they 
    # are not stored in the event! check with Renaud
    include "RecoTracker/TrackProducer/data/CTFFinalFitWithMaterial.cff"

    # The particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"    
        
    include "RecoParticleFlow/PFClusterProducer/data/particleFlowCluster.cff"
    include "RecoParticleFlow/PFProducer/data/particleFlow.cff"

    module o2 = PoolOutputModule
    {
	untracked string fileName = "singletau_pf.root" 
	untracked vstring outputCommands = 
	{
	    "drop *",
	    "keep recoPFRecHits_*_*_*",
	    "keep recoPFClusters_*_*_*",
	    "keep recoPFRecTracks_*_*_*",
	    "keep recoPFParticles_*_*_*",			
	    "keep recoCandidatesOwned_particleFlow_*_*",
            "keep recoBasicJets_iterativeCone5PFJets_*_*"
#	    "keep *_*_*_*"
	}
    }
    
    module dump = EventContentAnalyzer {}
    
    # path p = { dump }
    path p = { particleFlowCluster, particleFlow, iterativeCone5PFJets} 
    # path p = { particleFlow } 
    
    endpath outpath = { o2 }
}
