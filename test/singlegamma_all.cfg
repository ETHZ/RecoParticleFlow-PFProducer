process USER =  {
    
    # initialize  MessageLogger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "INFO"
    replace MessageLogger.cerr.default.limit = 10

    service = RandomNumberGeneratorService
    {
	untracked uint32 sourceSeed = 98765
    }
    
    # The particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"   
    # es_prefer = PythiaPDTESSource {}

    #input module:
    include "RecoParticleFlow/PFProducer/test/singlegamma_source.cff"      

    
    
    include "RecoParticleFlow/PFProducer/test/allReco.cff"
    include "RecoParticleFlow/PFClusterProducer/data/pFClusterDefaults.cff"
    include "RecoParticleFlow/PFProducer/data/pFDefaults.cff"
    
 
    ###############################
    #output module:
    module GEN-SIM-DIGI-RECO = PoolOutputModule
    {
	untracked string fileName = "singlegamma_pf.root" 
	untracked vstring outputCommands = 
	{
	    "keep *",
	    "drop *_muoncscdigi_*_*",
	    "drop *_muondtdigi_*_*",
	    "drop *_hcalDigis_*_*",
	    "drop *_ecalDigis_*_*",
	    "drop *_siStripDigis_*_*",
	    "drop *_siPixelDigis_*_*",
	    "drop *_ecalUnsuppressedDigis_*_*",
	    "drop *_ecalPreshowerDigis_*_*",
	    "drop *_ecalWeightUncalibRecHit_*_*"
	}
    }

     
    ###############################
    # now define what you want to do
    path p = {doG4SimHitsDigiEcalZeroSup, reconstruction, particleFlowCluster, particleFlow, iterativeCone5PFJets}
    # digitization and reconstruction are sequences of actions that are defined in the .cff files that were included
    
    endpath outpath = {GEN-SIM-DIGI-RECO}	

}
