process FLOW = {

    untracked PSet maxEvents = {untracked int32 input = -1}

    include "RecoParticleFlow/PFProducer/data/particleFlow.cff"
#    include "RecoParticleFlow/PFProducer/data/particleFlow.cfi"
    replace particleFlow.verbose = true


    service = MessageLogger  {
	untracked vstring destinations   = { "cout" }
	untracked vstring categories     = { 
	    "PFProducer"
	}
	untracked vstring debugModules   = { "*" }
	untracked PSet cout = { 
	    untracked string threshold = "INFO"
	    untracked PSet INFO            = { untracked int32 limit = 0 }
	    untracked PSet DEBUG           = { untracked int32 limit = 0 }
	    untracked PSet PFProducer = { untracked int32 limit = 10000000}
	    untracked PSet TauBenchmarkAnalyzer = { untracked int32 limit = 0}
	} 
    }
    

    # to generate this input file : 
    # cd   ../../PFBlockProducer/test/
    # cmsRun ditau_read_fevt.cfg
    source = PoolSource {
        untracked vstring fileNames = { 'file:../../PFBlockProducer/test/blocks.root' 
	}
    }
   

    # New location of PFJet reconstruction
    # include "RecoJets/Configuration/data/RecoPFJets.cff" 
    # Kept as input for FWLite Jetting
    include "RecoParticleFlow/PFProducer/data/particleFlowJetCandidates.cfi"

    ###############################
    module GEN-SIM-DIGI-RECO = PoolOutputModule
    {
	untracked string fileName = "candidates.root" 
	untracked vstring outputCommands = 
	{
            "drop *",
            "keep recoPFRecHits_*_*_*",
            "keep recoPFClusters_*_*_*",
            "keep recoPFRecTracks_*_*_*",
            "keep recoPFSimParticles_*_*_*",
	    "keep recoPFBlocks_*_*_*",
	    "keep recoPFCandidates_*_*_*",
	    "keep recoCandidatesOwned_*_*_*",	    
	    "keep recoPFJets_*_*_*",
	    "keep recoTracks_*_*_*",
	    "keep recoCaloJets_*_*_*",
            "keep CaloTowersSorted_*_*_*",
	    "keep edmHepMCProduct_*_*_*"
	}
    }

    module dump = EventContentAnalyzer {}

#    module tauAnalyzer = TauBenchmarkAnalyzer {
#	untracked string outputRootFileName = "test.root"
#	untracked string jetcollection="kt10PFJets"
#        untracked bool enablepfsimparticles=true
#        untracked bool enablegenjets=true
#
#    }

    ###############################

    path p = { 
#	dump,
	particleFlow,
	particleFlowJetCandidates,
	iterativeCone5PFJets, 
	Fastjet10PFJets
#	tauAnalyzer
    }

    endpath outpath = {GEN-SIM-DIGI-RECO}	

}
